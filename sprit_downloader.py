import urllib.request
from compat_ import urlopen
import random
import string
from threading import Thread, Event
from concurrent import futures
import os

sample = [3, {'format_id': '249', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=249&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=audio%2Fwebm&gir=yes&clen=6083149&dur=1057.041&lmt=1575123087327054&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAPFncb1MsusDJngsPyArdggMpNkdHmoJO68PFO1GRlnOAiEA3P2W1we36ZTO-8O6h97e8y45GXu9OPSigIH9xkkgAPo%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'format_note': 'tiny', 'acodec': 'opus', 'abr': 50, 'asr': 48000, 'filesize': 6083149, 'fps': None, 'height': None, 'tbr': 51.962, 'width': None, 'vcodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '249 - audio only (tiny)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '250', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=250&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=audio%2Fwebm&gir=yes&clen=7996186&dur=1057.041&lmt=1575123085372884&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgILyWWnTrkI0CIMbaxaNDX5gIGGMGgXZ0q58zSYH3m-oCIBde1MxDCDECASvUh0CRwHRAmScsCrgbvgodeeOqvDpL&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'format_note': 'tiny', 'acodec': 'opus', 'abr': 70, 'asr': 48000, 'filesize': 7996186, 'fps': None, 'height': None, 'tbr': 68.273, 'width': None, 'vcodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '250 - audio only (tiny)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '140', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=140&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=audio%2Fmp4&gir=yes&clen=17108474&dur=1057.088&lmt=1575123122950063&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgXu94WKYdtaLnqdZ95BEmp77y9N6APzEuy1PBiyRAvboCIQDLsLnccWrD2SXhmEaPWGDSPp3VBDEKfAG7KdeoriOp4A%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'm4a', 'format_note': 'tiny', 'acodec': 'mp4a.40.2', 'abr': 128, 'container': 'm4a_dash', 'asr': 44100, 'filesize': 17108474, 'fps': None, 'height': None, 'tbr': 131.272, 'width': None, 'vcodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '140 - audio only (tiny)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '251', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=251&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=audio%2Fwebm&gir=yes&clen=16109098&dur=1057.041&lmt=1575123097774379&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgDUNvgKAt0GLcq5OwLXW39OeeBfEEEUMyWrlkDLl86hICIQDfAmarbEcu0Szna34sE6sfa6Zs37G8Gp7Fegu3AmkSdg%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'format_note': 'tiny', 'acodec': 'opus', 'abr': 160, 'asr': 48000, 'filesize': 16109098, 'fps': None, 'height': None, 'tbr': 136.038, 'width': None, 'vcodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '251 - audio only (tiny)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '278', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=278&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=12768860&dur=1056.933&lmt=1575128455326116&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgNOZ5imuiHd0dxbdK56PqIn29CwNULHiCwQTdm8pmBPsCIHs0Ee9IAbXHJyb9NqqT4Cg-Y1acTJ3e1WqZFpSyH_Ox&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 144, 'format_note': '144p', 'container': 'webm', 'vcodec': 'vp9', 'asr': None, 'filesize': 12768860, 'fps': 30, 'tbr': 112.628, 'width': 256, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '278 - 256x144 (144p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '160', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=160&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=14296558&dur=1056.933&lmt=1575128425002345&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhALeIcXif0ZRqOsSgng_Ryu9EHRvQABzwdCIx-N8NXqu4AiEAnB8OcAQFmrCKJLajFMoyQclHa-IzVbRqRwQdymi3dXI%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 144, 'format_note': '144p', 'vcodec': 'avc1.4d400c', 'asr': None, 'filesize': 14296558, 'fps': 30, 'tbr': 115.942, 'width': 256, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '160 - 256x144 (144p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '242', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=242&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=29142415&dur=1056.933&lmt=1575128455393358&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgNsXdHuihdunu6wHcVYZMdpJAhFvDQFxWYkRT_TMjScoCIQDDhsNzNW_S7UeBXRrVU6KlnEPj_XIOG9EyCoODM297uQ%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 240, 'format_note': '240p', 'vcodec': 'vp9', 'asr': None, 'filesize': 29142415, 'fps': 30, 'tbr': 247.681, 'width': 426, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '242 - 426x240 (240p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '133', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=133&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=31388521&dur=1056.933&lmt=1575128425003030&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgMO4GT3w8G9zDPHnydcUkcy5k2yIL_If_M-duaUxd77MCIQD2osVcAX7HTsKuXGZtrIJRVHxPig9TuvoaqsWetR654w%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 240, 'format_note': '240p', 'vcodec': 'avc1.4d4015', 'asr': None, 'filesize': 31388521, 'fps': 30, 'tbr': 249.678, 'width': 426, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '133 - 426x240 (240p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '243', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=243&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=55160650&dur=1056.933&lmt=1575128455318037&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAMqHcZCdLCw9q_If7YhxXGVQ0_-_TuvbW5NOfvRQ9acpAiEAhtpF3EFcDAU0QHyaIemoEpPh6wfvch5r4d2yKLjlRlk%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 360, 'format_note': '360p', 'vcodec': 'vp9', 'asr': None, 'filesize': 55160650, 'fps': 30, 'tbr': 507.034, 'width': 640, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '243 - 640x360 (360p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '134', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=134&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=81288396&dur=1056.933&lmt=1575128425001929&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhAMKYJkXhkW4Du3LXQ6d2mdhKKWibpRqJsgeZdclNHS8eAiB8sUGLXlIUvTJpY5DFtF668060EJu6nHlGgU3SSt9Ejg%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 360, 'format_note': '360p', 'vcodec': 'avc1.4d401e', 'asr': None, 'filesize': 81288396, 'fps': 30, 'tbr': 637.34, 'width': 640, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '134 - 640x360 (360p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '244', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=244&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=99064077&dur=1056.933&lmt=1575128455312279&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhALm9lR33UyOsSKlrOZg7Gdjloqka8glU2MugA7v-ttoCAiAUaaA36pEuAGXXqdM7WJ9aoP4KGfBm8p1MjQKVjgRPnQ%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 480, 'format_note': '480p', 'vcodec': 'vp9', 'asr': None, 'filesize': 99064077, 'fps': 30, 'tbr': 816.592, 'width': 854, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '244 - 854x480 (480p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '135', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=135&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=149697867&dur=1056.933&lmt=1575128425002400&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhALHHmSQ6IeuWebh6rM-McBKam6gs0wvYHPUQptgKkbgiAiEAwcYxlhHB0GqE6HtYg-8Ssiy_MtUXlk9qwdhy8z33mjI%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 480, 'format_note': '480p', 'vcodec': 'avc1.4d401f', 'asr': None, 'filesize': 149697867, 'fps': 30, 'tbr': 1191.221, 'width': 854, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '135 - 854x480 (480p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '247', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=247&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=199023347&dur=1056.933&lmt=1575128455326525&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIga5kcfgthFbQPita5-tIXjD7RQf_1HGWoGO45diADdOoCIQDvPBuMKvIF8RXODN5mAH6m_V2W8VXckgqez7wszDDllw%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 720, 'format_note': '720p', 'vcodec': 'vp9', 'asr': None, 'filesize': 199023347, 'fps': 30, 'tbr': 1661.784, 'width': 1280, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '247 - 1280x720 (720p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '136', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=136&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=299487900&dur=1056.933&lmt=1575128425007261&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAKlBVrRAP15_JRKV1WIVvdH-hfEIPci6gDugZ10xXuw1AiEAgWaXIRacl2EsmR19R6lK9ifFn2A5-yp5mhM6QUWUf4E%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 720, 'format_note': '720p', 'vcodec': 'avc1.4d401f', 'asr': None, 'filesize': 299487900, 'fps': 30, 'tbr': 2375.794, 'width': 1280, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '136 - 1280x720 (720p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '302', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=302&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=346341091&dur=1056.950&lmt=1575123926170156&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAJ7UrjIAyK2QcwCw4j3PTwsh_OwP9kApv5eVKsXAfMOdAiEAhbk4yfNLjWEPQMxuf53mQjQCYpXVqmOXdQcrw4iuuB8%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 720, 'format_note': '720p60', 'vcodec': 'vp9', 'fps': 60, 'asr': None, 'filesize': 346341091, 'tbr': 2831.868, 'width': 1280, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '302 - 1280x720 (720p60)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '248', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=248&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=350712119&dur=1056.933&lmt=1575123926966910&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgS3KfpWV_JTB8W45WCfz8kHfOszwvn0B7MDhXVSH-iuQCIFUh7FOsGaq6oJbIuqVYHup11Ue5VGOuL1O0XUP8beyt&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 1080, 'format_note': '1080p', 'vcodec': 'vp9', 'asr': None, 'filesize': 350712119, 'fps': 30, 'tbr': 2993.206, 'width': 1920, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '248 - 1920x1080 (1080p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '298', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=298&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=450911050&dur=1056.949&lmt=1575123422136256&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgKh_qUq3urMPMrNNV-r2veSvx_APWMJkXFQNTpXYZQVMCIQCgg-xQq5bjpOUTZ0pDDjSe3Ex3OIu2bpBQZuea_7O4tA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 720, 'format_note': '720p60', 'vcodec': 'avc1.4d4020', 'fps': 60, 'asr': None, 'filesize': 450911050, 'tbr': 4050.061, 'width': 1280, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '298 - 1280x720 (720p60)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '303', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=303&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=580982689&dur=1056.950&lmt=1575124867199768&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgSQKmyRw8rXHgAIC3gmon2uIINoRRoudKeIkNgh06X3ACICGoqG3GvmbcRlTOAxoUgDqKyonmc1MHhEBVcBm0P5MV&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'webm', 'height': 1080, 'format_note': '1080p60', 'vcodec': 'vp9', 'fps': 60, 'asr': None, 'filesize': 580982689, 'tbr': 4808.12, 'width': 1920, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '303 - 1920x1080 (1080p60)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '137', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=137&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=561540263&dur=1056.933&lmt=1575123632100548&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgCWyWI4RNE0Vpu4kzq9csAPXvcQFToopRFxg0ZFRqjDACIFvc2T1HXYdpPFnPyMs54ZZ9CDJ7nreS3F3QNonGUVzv&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 1080, 'format_note': '1080p', 'vcodec': 'avc1.640028', 'asr': None, 'filesize': 561540263, 'fps': 30, 'tbr': 5063.76, 'width': 1920, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '137 - 1920x1080 (1080p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '299', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=299&aitags=133%2C134%2C135%2C136%2C137%2C160%2C242%2C243%2C244%2C247%2C248%2C278%2C298%2C299%2C302%2C303&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=757030442&dur=1056.949&lmt=1575123684157686&mt=1575984671&fvip=2&keepalive=yes&fexp=23842630%2C23860862&c=WEB&txp=5432432&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgPZCecCo9MDfLgcxIE5zZHUNyZbSHM-BlG7BJSt3OGGUCIQDvGw2Aw2DrorixGhagXxnE8RYRVgiyj6mN3Vvg95XDpA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI&ratebypass=yes', 'player_url': None, 'ext': 'mp4', 'height': 1080, 'format_note': '1080p60', 'vcodec': 'avc1.64002a', 'fps': 60, 'asr': None, 'filesize': 757030442, 'tbr': 6820.709, 'width': 1920, 'acodec': 'none', 'downloader_options': {'http_chunk_size': 10485760}, 'format': '299 - 1920x1080 (1080p60)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '43', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=43&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fwebm&gir=yes&clen=130971764&ratebypass=yes&dur=0.000&lmt=1575133377846009&mt=1575984671&fvip=2&fexp=23842630%2C23860862&c=WEB&txp=5411222&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRgIhALOekDUN5rQ3Ayl1z6EKYjjPYVBsNHmHQP8ji4Hy-Z4sAiEAqx3CfRrekWY3OJkfjNcY2nJvvaNy0Nk8TeppbCWu53M%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI', 'player_url': None, 'ext': 'webm', 'width': 640, 'height': 360, 'acodec': 'vorbis', 'abr': 128, 'vcodec': 'vp8.0', 'asr': None, 'filesize': 130971764, 'format_note': '360p', 'fps': None, 'tbr': None, 'format': '43 - 640x360 (360p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '18', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=18&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&gir=yes&clen=98025037&ratebypass=yes&dur=1057.088&lmt=1575123150328653&mt=1575984671&fvip=2&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRAIgM2x5AXS9yDsKefFWtO6ZGX0CpZGdjMayTh9dRhgAg_ICICdnQ_yEk_Zq8XAk7lz9LNssSR7coAkDEt31-isaNYwy&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI', 'player_url': None, 'ext': 'mp4', 'width': 640, 'height': 360, 'acodec': 'mp4a.40.2', 'abr': 96, 'vcodec': 'avc1.42001E', 'asr': 44100, 'filesize': 98025037, 'format_note': '360p', 'fps': None, 'tbr': 741.958, 'format': '18 - 640x360 (360p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}, {'format_id': '22', 'url': 'https://r2---sn-3pm7sn7k.googlevideo.com/videoplayback?expire=1576006409&ei=qZ7vXZy5C4PS4AK_wa3wBw&ip=2400%3A2651%3A2243%3A2100%3A9928%3A1819%3Ad872%3Ac5cd&id=o-AFUg9aBzDhCtftOPAmJB8bPRIjgT8EsBfb44e1f-O4IT&itag=22&source=youtube&requiressl=yes&mm=31%2C29&mn=sn-3pm7sn7k%2Csn-3pm76n76&ms=au%2Crdu&mv=m&mvi=1&pl=23&initcwndbps=640000&mime=video%2Fmp4&ratebypass=yes&dur=1057.088&lmt=1575123225806827&mt=1575984671&fvip=2&fexp=23842630%2C23860862&c=WEB&txp=5431432&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRgIhAMsDv6rXH4eVJsCcNickHvJJdGDHIOMUOORoaC4bDZTnAiEAioRfk8sXYgVFlt20_HPabDY7_DXboFSQuQiKUkrPXiY%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&lsig=AHylml4wRAIgM9K2PIEiy52Tmhoi_wa_EtCt7xqENZ8V0iMMmjbWVK0CIGy8cP_XcVFPgsgleaUaiKOclF1yXpg1ctCiYetBsqHI', 'player_url': None, 'ext': 'mp4', 'width': 1280, 'height': 720, 'acodec': 'mp4a.40.2', 'abr': 192, 'vcodec': 'avc1.64001F', 'asr': 44100, 'filesize': None, 'format_note': '720p', 'fps': None, 'tbr': 3263.481, 'format': '22 - 1280x720 (720p)', 'protocol': 'https', 'http_headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3709.0 Safari/537.36', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'en-us,en;q=0.5'}}]

class DLmanager(Thread):

    def __init__(self, queue, n, abs_path):
        print('init_succeed')

        Thread.__init__(self)
        self.stopping = Event()
        self.name = self.random_name()
        print('id;', self.name)
        self.downloader(queue=queue, n=n, abs_path=abs_path)
        self.marginer()
        self.delete_part()



    def random_name(self):
        randlst = [random.choice(string.ascii_letters + string.digits) for i in range(10)]
        return ''.join(randlst)

    def spritter(self, queue, n):
        filesize = queue['filesize']
        a, b = divmod(filesize, n)
        sprit_list = []
        for i in range(n):

             if (i+1) == n:
                sprit_list += [[a * i + 1, filesize]]
             elif i == 0 :
                 sprit_list += [[0, a * (i + 1)]]
             else:
                sprit_list += [[a * i + 1, a * (i + 1)]]
        return sprit_list

    def downloader(self, queue, n, abs_path):      #メイン処理ループ、スレッド
        download_list = self.spritter(queue, n)
        url = queue['url']
        self.bytes = queue['filesize']
        i = 1
        self.output_list = []
        future_list = []
        print(self.bytes)
        with futures.ThreadPoolExecutor(max_workers=10) as executor:
            for part in download_list:
                headers = {'range': 'bytes={}-{}'.format(part[0], part[1])}
                print(headers)
                if abs_path == '':
                    path = '{}.part{}'.format(self.name, i)
                else:
                    path = '{}/{}.part{}'.format(abs_path, self.name, i)
                self.output_list += [path]
                future = executor.submit(self.download_, url, path, headers)
                future_list.append(future)
                i += 1
            _ = futures.as_completed(future_list)





    def download_(self, url, path, headers): #書き込み処理
        print('writing...', path)
        with open(path, 'wb') as fh:
            for chunk in self.get(url, headers):
                fh.write(chunk)


    def get(self, url, headers):
        req = urllib.request.Request(url=url, headers=headers, method='GET')
        response = urlopen(req)
        print('code:', response.getcode())
        return self.stream_response(response)


    def stream_response(self, response, chunk_size=8 * 1024):
        """Read the response in chunks."""
        while True:
            buf = response.read(chunk_size)
            if not buf:
                break
            yield buf

    def marginer(self):
        print('file marging')
        print(self.output_list)
        with open('output.mp4', 'wb') as op:
            for part in self.output_list:
                data = open(part, 'rb')
                print(type(data))
                op.write(data.read())
                op.flush()

    def delete_part(self):
        for part_ in self.output_list:
            os.remove(part_)

if __name__ == '__main__':
    a = DLmanager(sample[1], 5, os.getcwd())
